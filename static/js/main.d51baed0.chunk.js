(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(3),a=c.n(r),s=c(9),i=c.n(s),o=(c(16),c(2)),j=c(1);c(17),c(18);var u=function(e){var t=e.setZone;return Object(n.jsxs)("header",{children:[Object(n.jsx)("button",{onClick:function(){return t(0)},children:"Volver a Inicio"}),Object(n.jsx)("button",{onClick:function(){return t(1)},children:"Ir a Administrar Productos"}),Object(n.jsx)("button",{onClick:function(){return t(2)},children:"Ir a Facturar"}),Object(n.jsx)("button",{onClick:function(){return t(3)},children:"Ir a Administrar Facturas"})]})},l=c(8),b=c.n(l),d=c(10),O=c(4),p=(c(20),c(3)),x=p.useLayoutEffect,h=p.useRef,f=p.useState;function m(e){var t=f([]),c=Object(j.a)(t,2),r=c[0],a=c[1],s=h(null),i=e.onChange,u=e.onKeyDown,l=Object(o.a)({},e);delete l.onChange,delete l.onKeyDown;var b={};return x((function(){s.current&&s.current()}),[r]),i?b.onChange=function(e){if(i&&!i(e)){var t=e.target,c=t.selectionStart;s.current=function(){return t.setSelectionRange(c,c-1)},a([])}}:u&&(b.onKeyDown=function(e){if(u&&!u(e)){var t=e.target,c=t.selectionStart;s.current=function(){return t.setSelectionRange(c,c-1)},a([])}}),Object(n.jsx)("input",Object(o.a)(Object(o.a)({type:"text"},b),l))}function v(e){var t=e.product,c=e.setProducts,a=e.products,s=e.code,i=Object(r.useState)(Object(o.a)(Object(o.a)({},t),{},{code:s})),u=Object(j.a)(i,2),l=u[0],b=u[1],d=Object(r.useState)(!0),p=Object(j.a)(d,2),x=p[0],h=p[1],f=Object(r.useState)(!1),v=Object(j.a)(f,2),N=v[0],C=v[1],g=Object(r.useState)(t),y=Object(j.a)(g,2),S=y[0],w=y[1],k=function(){return h((function(e){return!e}))};Object(r.useEffect)((function(){t.name||h(!1)}),[]);var F=function(e){var t=e.code,n=e.name,r=e.price,a=e.count;k(),c((function(e){return new Map(e.set(t,{name:n,price:r,count:a}))})),b((function(e){return Object(o.a)(Object(o.a)({},e),{},{price:(+e.price).toFixed(2)})}))},M=function(){for(var e in l)if(!l[e])return;var c=Object.values(Object(o.a)(Object(o.a)({},t),{},{code:s}));(l.code||s)!==s&&(alert("C\xf3digo del Producto YA Registrado"),a.has(l.code||s))||(l.name&&l.name!==t.name&&Object(O.a)(a.values()).find((function(e){var t=e.name;return new RegExp(l.name,"i").test(t)}))?alert("Nombre del Producto Ya Registrado"):Object.values(l).every((function(e,t){return e===c[t]}))?k():(w(Object(o.a)({code:s},t)),F(Object(o.a)({code:s},l))))},E=function(){k(),b(Object(o.a)({code:s},t))};function A(e){e?(c((function(e){return e.delete(s),new Map(e)})),C(!1)):C(!1)}return Object(n.jsxs)("div",{className:"product-item",onKeyDown:function(e){if(x)return!1;"Enter"===e.key?M():"Escape"===e.key&&E()},tabIndex:1,children:[Object(n.jsxs)("div",{className:"modal",style:{display:N?"flex":"none"},children:[Object(n.jsx)("button",{onClick:function(){return A(!0)},children:"S\xed, quiero eliminar"}),Object(n.jsx)("button",{onClick:function(){return A(!1)},children:"No quiero eliminar"})]}),Object(n.jsx)(m,{disabled:x,value:l.code,onChange:function(e){var t=e.target.value;if(!/\D/.test(t)&&!(t>Number.MAX_SAFE_INTEGER))return b(Object(o.a)(Object(o.a)({},l),{},{code:t})),!0},className:"code"}),Object(n.jsx)(m,{disabled:x,value:l.name,onChange:function(e){var t=e.target.value;return b(Object(o.a)(Object(o.a)({},l),{},{name:t})),!0}}),Object(n.jsx)(m,{disabled:x,value:l.price+(x?" Bs.":""),onChange:function(e){var t=e.target.value;if(!isNaN(t)&&("0"!==t[0]||"0"!==t[1])&&"+"!==t[0]&&!(t<0)&&!(t>Number.MAX_SAFE_INTEGER))return b(Object(o.a)(Object(o.a)({},l),{},{price:t})),!0}}),Object(n.jsx)(m,{disabled:x,value:l.count,onChange:function(e){var t=e.target.value;if(!/\D/.test(t)&&("0"!==t[0]||"0"!==t[1]))return b(Object(o.a)(Object(o.a)({},l),{},{count:t})),!0}}),Object(n.jsx)("button",{className:"edit",onClick:k,hidden:!x,children:"Editar"}),Object(n.jsxs)("div",{className:"edit-data",style:{display:x?"none":"grid"},children:[Object(n.jsx)("button",{onClick:M,children:"Aplicar"}),Object(n.jsx)("button",{onClick:function(){b(Object(o.a)({code:s},S)),F(Object(o.a)({code:s},S))},children:"Revertir"}),Object(n.jsx)("button",{onClick:E,className:"cancel",children:"Cancelar"})]}),Object(n.jsxs)("button",{className:"delete",onClick:function(){C(!0)},children:[Object(n.jsx)("div",{className:"trash"}),"Eliminar"]})]})}var N=function(e){var t=e.zone,c=e.products,a=e.setProducts,s=Object(r.useState)(c),i=Object(j.a)(s,2),o=i[0],u=i[1];function l(){return Math.floor(1e3*Math.random())+""}function p(){return(p=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){var e=t.target.value,n=!isNaN(e);if(!e)return u((function(){return c}));u((function(){return new Map(Object(O.a)(c).map((function(t){var c,r=Object(j.a)(t,2),a=r[0],s=r[1];return(c=n?a.match(new RegExp(e,"i")):s.name.match(new RegExp(e,"i")))?c.data=t:Object.values(s).every((function(e){return e}))||((c=[""]).data=t),c})).filter((function(e){return e})).sort((function(e,t){var c=Object(j.a)(e,1)[0];return Object(j.a)(t,1)[0].length-c.length})).sort((function(e,t){return e.index-t.index})).sort((function(e,t){var c=e.data,n=t.data,r=+!Object.values(c[1]).every((function(e){return e}));return r===+!Object.values(n[1]).every((function(e){return e}))?0:1===r?-1:1})).map((function(e){return e.data})))}))}),0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){a(e),u(e)}var h=Object(r.useState)(!0),f=Object(j.a)(h,2),m=f[0],N=f[1],C=Object(r.useState)(!0),g=Object(j.a)(C,2),y=g[0],S=g[1],w=Object(r.useState)(!0),k=Object(j.a)(w,2),F=k[0],M=k[1];return 1===t&&Object(n.jsxs)("div",{className:"product-manager-container",children:[Object(n.jsxs)("div",{className:"main-control",children:[Object(n.jsxs)("div",{className:"input-container",children:[Object(n.jsx)("div",{className:"lupa"}),Object(n.jsx)("input",{type:"text",placeholder:"Buscar por Nombre o C\xf3digo...",onKeyDown:function(e){return p.apply(this,arguments)}})]}),Object(n.jsxs)("button",{onClick:function(){for(var e=l();c.has(e);)e=l();a((function(t){return new Map([[e,{name:"",price:"",count:""}]].concat(Object(O.a)(t)))})),u((function(t){return new Map([[e,{name:"",price:"",count:""}]].concat(Object(O.a)(t)))}))},children:[Object(n.jsx)("div",{className:"plus"}),"Agregar un Producto"]})]}),Object(n.jsxs)("main",{children:[Object(n.jsxs)("div",{className:"order-bar",children:[Object(n.jsx)("p",{children:"C\xf3digo"}),Object(n.jsxs)("p",{onClick:function(){N((function(e){return!e})),u((function(e){return new Map(Object(O.a)(e).sort((function(e,t){var c=Object(j.a)(e,2)[1],n=Object(j.a)(t,2)[1];return m?c.name.localeCompare(n.name):n.name.localeCompare(c.name)})))}))},children:["Nombre ",m?"\u25bc":"\u25b2"," "]}),Object(n.jsxs)("p",{onClick:function(){S((function(e){return!e})),u((function(e){return new Map(Object(O.a)(e).sort((function(e,t){var c=Object(j.a)(e,2)[1],n=Object(j.a)(t,2)[1];return y?c.price>n.price?-1:1:c.price<n.price?-1:1})))}))},children:["Precio ",y?"\u25bc":"\u25b2"," "]}),Object(n.jsxs)("p",{onClick:function(){M((function(e){return!e})),u((function(e){return new Map(Object(O.a)(e).sort((function(e,t){var c=Object(j.a)(e,2)[1],n=Object(j.a)(t,2)[1];return F?c.count>n.count?-1:1:c.count<n.count?-1:1})))}))},children:["Cantidad ",F?"\u25bc":"\u25b2"," "]})]}),Object(n.jsx)("div",{className:"list-items",children:Object(O.a)(o).map((function(e){var t=Object(j.a)(e,2),c=t[0],r=t[1];return Object(n.jsx)(v,{product:r,setProducts:x,products:o,code:c},c)}))})]})]})};c(21),c(22);function C(e){var t=e.list,c=0;return Object(O.a)(t.values()).map((function(e){var t=e.props,r=t.product,a=t.count,s=r.code,i=r.name,o=r.price;c++;var j=a*o;return Object(n.jsxs)("div",{className:"item",children:[Object(n.jsxs)("p",{children:[" ",Object(n.jsx)("i",{children:s})," - ",i," (",a,")"]}),Object(n.jsx)("p",{children:Object(n.jsxs)("strong",{children:[(j+16*j/100).toFixed(2)," Bs."]})})]},c)}))}var g=function(e){var t=e.userName,c=e.userCard,r=e.list,a=e.total,s=e.print,i=e.billHistoryCount,o=e.time,j=e.setPrint,u=e.facture;return Object(n.jsxs)("div",{className:"bill-print",style:{display:s?"flex":"none"},children:[Object(n.jsx)("div",{className:"cross",onClick:function(){return j(!1)}}),u&&Object(n.jsx)("div",{className:"check-mark",onClick:function(){j(!1),u()}}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"data-company",children:[Object(n.jsx)("div",{className:"logo"}),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h3",{children:"Variedades Nelly Shop C.A"}),Object(n.jsx)("p",{children:"Mercado Municipal Anaco-PASILLO 4"}),Object(n.jsx)("p",{children:"J-20501114S"})]})]}),Object(n.jsxs)("div",{className:"data-client",children:[Object(n.jsx)("h3",{children:"Informaci\xf3n del Cliente"}),Object(n.jsxs)("p",{children:["Cliente: ",t]}),Object(n.jsxs)("p",{children:["RIF/C.I.: ",c]})]}),Object(n.jsxs)("div",{className:"data-bill",children:[Object(n.jsx)("h4",{children:"FACTURA"}),Object(n.jsxs)("div",{className:"keys",children:[Object(n.jsx)("p",{children:"Factura:"}),Object(n.jsx)("p",{children:"Fecha:"})]}),Object(n.jsxs)("div",{className:"values",children:[Object(n.jsx)("p",{children:i}),Object(n.jsx)("p",{children:o})]})]}),Object(n.jsx)("div",{className:"products",children:Object(n.jsx)(C,{list:r})}),Object(n.jsxs)("div",{className:"result",children:[Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("p",{children:"Total"})," ",Object(n.jsx)("p",{children:Object(n.jsxs)("strong",{children:[(a+16*a/100).toFixed(2)," Bs."]})})]}),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("p",{children:"Tarj. D\xe9bito"})," ",Object(n.jsx)("p",{children:Object(n.jsxs)("strong",{children:[(a+16*a/100).toFixed(2)," Bs."]})})]})]})]})]})};function y(e){var t=e.revertHandler,c=e.product,r=e.setList,a=e.count,s=e.setTotal;var i=a*c.price,o=(i+16*i/100).toFixed(2);return Object(n.jsxs)("div",{className:"bill-history-Item",children:[Object(n.jsxs)("p",{children:[a," ",c.name," a ",c.price," Bs. Total: ",o," Bs."]}),Object(n.jsx)("button",{onClick:function(){r((function(e){return e.delete(c.name),new Map(e)})),t(a,c.code),s((function(e){return e-c.price*a}))},children:"Eliminar"})]},c.name)}var S=function(e){var t=e.zone,c=e.products,a=e.setProducts,s=e.setBills,i=e.setBillsHistoryCount,u=e.billHistoryCount,l=Object(r.useState)(""),b=Object(j.a)(l,2),d=b[0],p=b[1],x=Object(r.useState)(1),h=Object(j.a)(x,2),f=h[0],v=h[1],N=Object(r.useState)(0),C=Object(j.a)(N,2),S=C[0],w=C[1],k=Object(r.useState)(new Map),F=Object(j.a)(k,2),M=F[0],E=F[1],A=Object(r.useState)(""),P=Object(j.a)(A,2),B=P[0],I=P[1],R=Object(r.useState)(""),T=Object(j.a)(R,2),D=T[0],H=T[1],z=Object(r.useState)(!1),L=Object(j.a)(z,2),_=L[0],G=L[1],K=Object(r.useState)(!1),X=Object(j.a)(K,2),J=X[0],U=X[1],V=Object(r.useState)({code:"",name:"",price:""}),Y=Object(j.a)(V,2),Z=Y[0],q=Y[1],Q=Object(r.useState)(void 0),W=Object(j.a)(Q,2),$=W[0],ee=W[1],te=Object(r.useRef)(void 0),ce=Z.price*f,ne=(ce+16*ce/100).toFixed(2);function re(e,t){G(!1),q((function(t){return Object(o.a)(Object(o.a)({},t),{},{count:t.count+ +e})})),a((function(c){var n=c.get(t);return new Map(c.set(d,Object(o.a)(Object(o.a)({},n),{},{count:n.count+ +e})))}))}function ae(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];G(!1),e&&Object(O.a)(M).forEach((function(e){var t=Object(j.a)(e,2),c=(t[0],t[1].props);re(c.count,c.product.code)})),E(new Map),p(""),v(""),I(""),H(""),w(0),ee(void 0),q({code:"",name:"",price:""})}return Object(r.useLayoutEffect)((function(){te.current&&(te.current(),te.current=void 0)})),2===t&&Object(n.jsxs)("div",{className:"facture-manager-container",children:[Object(n.jsx)("div",{className:"reset",onClick:ae}),Object(n.jsx)(g,{userName:D,userCard:B,list:M,total:S,print:J,billHistoryCount:u,time:$,setPrint:U,facture:function(){i((function(e){return++e})),s((function(e){return new Map([[u,{list:M,total:S,userName:D,userCard:B,time:$}]].concat(Object(O.a)(e)))})),ae(!1)}}),Object(n.jsxs)("section",{className:"calculator",children:[Object(n.jsxs)("div",{className:"main-input",children:[Object(n.jsx)(m,{placeholder:"C\xf3digo",value:d,onChange:function(e){var t=e.target.value;return!/\D/.test(t)&&(p(t),c.has(t)?q(Object(o.a)({code:t},c.get(t))):q({code:"",name:"",price:""}),!0)}}),Object(n.jsx)(m,{placeholder:"Cantidad: 1",value:1===f?"":f,onChange:function(e){var t=e.target.value;return!/\D/.test(t)&&("0"!==t[0]&&"0"!==t[1]&&(!(t>Number.MAX_SAFE_INTEGER)&&(!(t*Z.price>Number.MAX_SAFE_INTEGER)&&(v(t||1),!0))))}}),Object(n.jsxs)("div",{className:"result",children:[Object(n.jsxs)("div",{className:"modal",style:{display:_?"flex":"none"},onClick:function(){return G(!1)},children:[Object(n.jsx)("div",{className:"cross"}),Object(n.jsx)("p",{hidden:0!==Z.count,children:"PRODUCTO AGOTADO"}),Object(n.jsx)("p",{hidden:0===Z.count,children:"Solo hay en existencia:"}),Object(n.jsx)("p",{hidden:0===Z.count,children:Z.count})]}),Object(n.jsx)("p",{children:"Resultado:"}),Object(n.jsxs)("p",{children:[ne," Bs."]})]}),Object(n.jsx)("button",{onClick:function(){if(!f||!Z.price)return!1;if(f>Z.count)return G(!0),!1;var e,t=Z.count-f,c=function(e){return Object(n.jsx)(y,{product:Z,setList:E,list:M,count:e,revertHandler:re,setTotal:w},Z.name)};e=t,a((function(t){return new Map(t.set(d,Object(o.a)(Object(o.a)({},Z),{},{count:e})))})),q(Object(o.a)(Object(o.a)({},Z),{},{count:e}));var r=M.get(Z.name);if(r){var s=r.props.count;E((function(e){return new Map(e.set(Z.name,c(+s+ +f)))}))}else E((function(e){return new Map([[Z.name,c(f)]].concat(Object(O.a)(e)))}));w((function(e){return e+Z.price*f}))},children:"A\xf1adir"})]}),Object(n.jsxs)("div",{className:"product",children:[Object(n.jsx)("h2",{children:"Producto/s"}),Object(n.jsxs)("div",{className:"container",children:[" Nombre ",Object(n.jsx)("br",{})," ",Object(n.jsx)("p",{className:"value",children:Z.name})]}),Object(n.jsxs)("div",{className:"container",children:[" Precio ",Object(n.jsx)("br",{})," ",Object(n.jsx)("p",{className:"value",children:Z.price+(Z.price?" Bs.":"")})]})]}),Object(n.jsxs)("div",{className:"history",children:[Object(n.jsx)("h2",{children:"Historial"}),Object(n.jsx)("div",{className:"view",children:Object(O.a)(M.values())})]})]}),Object(n.jsxs)("section",{className:"pay",children:[Object(n.jsx)(m,{placeholder:"Cedula",className:"card",value:B,onChange:function(e){var t=e.target.value;return!/\D/.test(t)&&(I(t),!0)}}),Object(n.jsx)(m,{placeholder:"Nombre",className:"name",value:D,onChange:function(e){var t=e.target.value;return H(t),!0}}),Object(n.jsx)("button",{className:"facture",onClick:function(){if(!B||!D)return!1;if(!Object(O.a)(M)[0])return!1;U(!0);var e=new Date,t="".concat(e.getFullYear())+"/".concat(e.getMonth())+"/".concat(e.getDate())+" ".concat("Hora: "+e.getHours())+"".concat(":"+e.getMinutes())+"".concat(":"+e.getSeconds());te.current=ee(t)},children:"Facturar"}),Object(n.jsxs)("div",{className:"total",children:[Object(n.jsxs)("h2",{className:"title",children:["Sub Total",Object(n.jsx)("br",{}),S.toFixed(2)," Bs."]}),Object(n.jsxs)("h2",{className:"title",children:["Total (+IVA 16%)",Object(n.jsx)("br",{}),(S+16*S/100).toFixed(2)," Bs."]})]})]})]})};c(23);function w(e){var t=Object(j.a)(e.bill,2),c=t[0],r=t[1],a=e.printHandler,s=r.list,i=r.total,u=r.userName,l=r.userCard,b=r.time,d=Object(O.a)(s).map((function(e){var t=Object(j.a)(e,2),c=t[0],r=t[1].props,a=r.product,s=r.count,i=a.price*s,o=(i+16*i/100).toFixed(2);return Object(n.jsxs)("div",{className:"product",children:[Object(n.jsxs)("p",{children:[a.code," - ",c," ",a.price," (",s,")"]}),Object(n.jsx)("p",{children:Object(n.jsxs)("strong",{children:[o," Bs."]})})]},a.name)}));return Object(n.jsxs)("div",{className:"bill",children:[Object(n.jsx)("div",{className:"print",onClick:function(){return a(Object(o.a)(Object(o.a)({},r),{},{billHistoryCount:c}))}}),Object(n.jsxs)("div",{className:"top",children:[Object(n.jsxs)("p",{className:"date",children:["Fecha ",b]}),Object(n.jsxs)("p",{children:["Nombre: ",u," ----- Cedula: ",l]})]}),Object(n.jsxs)("div",{className:"middle",children:[Object(n.jsxs)("h3",{children:["Factura: ",c]}),d]}),Object(n.jsxs)("div",{className:"bottom",children:[Object(n.jsx)("p",{children:"Total:"}),Object(n.jsx)("p",{children:Object(n.jsx)("strong",{children:(i+16*i/100).toFixed(2)})})]})]},c)}var k=function(e){var t=e.zone,c=e.bills,a=Object(r.useState)({}),s=Object(j.a)(a,2),i=s[0],u=s[1],l=Object(r.useState)(!1),b=Object(j.a)(l,2),d=b[0],p=b[1];function x(e){u(e),p(!0)}return 3===t&&Object(n.jsxs)("div",{className:"bills-manager-container",children:[d&&Object(n.jsx)(g,Object(o.a)({print:d,setPrint:p},i)),Object(n.jsx)("input",{type:"text",placeholder:"Buscar Por C\xf3digo...",className:"search"}),Object(O.a)(c).map((function(e){return Object(n.jsx)(w,{bill:e,printHandler:x},e[0])}))]})};c(24);var F=function(e){var t=e.zone,c=e.setZone;return 0===t&&Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"login",children:[Object(n.jsx)("input",{type:"text",placeholder:"Nombre de Usuario"}),Object(n.jsx)("input",{type:"password",placeholder:"Contrase\xf1a"}),Object(n.jsx)("button",{onClick:function(){c(1)},children:"Administrar Productos"}),Object(n.jsx)("button",{onClick:function(){c(2)},children:"Ingresar a Facturas"})]})})},M=new Map([["10",{name:"Cafe",price:100,count:12}],["11",{name:"Arroz",price:300,count:2}],["13",{name:"Manzana",price:50,count:3}]].map((function(e){var t=Object(j.a)(e,2),c=t[0],n=t[1];return[c,Object(o.a)(Object(o.a)({},n),{},{price:(+n.price).toFixed(2)})]}))),E=function(){var e=Object(r.useState)(1),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)(M),i=Object(j.a)(s,2),o=i[0],l=i[1],b=Object(r.useState)(new Map),d=Object(j.a)(b,2),O=d[0],p=d[1],x=Object(r.useState)(1),h=Object(j.a)(x,2),f=h[0],m=h[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(u,{setZone:a}),Object(n.jsx)(F,{zone:c}),Object(n.jsx)(N,{products:o,setProducts:l,zone:c}),Object(n.jsx)(S,{zone:c,products:o,setProducts:l,setBills:p,setBillsHistoryCount:m,billHistoryCount:f}),Object(n.jsx)(k,{zone:c,bills:O})]})},A=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,26)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(E,{})}),document.getElementById("root")),A()}],[[25,1,2]]]);
//# sourceMappingURL=main.d51baed0.chunk.js.map